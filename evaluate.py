from sklearn.metrics import f1_score

data = {
    "image1_score": {
        "label1": 975.6029844284058,
        "label2": 13.876128010451794,
        "label3": 3.914165310561657,
        "label4": 3.047570353373885,
        "label5": 2.2529312409460545,
        "label6": 0.7703671581111848,
        "label7": 0.3895342815667391,
        "label8": 0.11113421351183206,
        "label9": 0.029939164960524067,
        "label10": 0.005358263024390908,
    },
    "image2_score": {
        "label1": 594.8851108551025,
        "label2": 225.4968136548996,
        "label3": 85.03261208534241,
        "label4": 66.30460172891617,
        "label5": 13.13726045191288,
        "label6": 7.114717271178961,
        "label7": 5.55370794609189,
        "label8": 1.6417887527495623,
        "label9": 0.6225171964615583,
        "label10": 0.2109481138177216,
    },
    "image3_score": {
        "label1": 911.0354781150818,
        "label2": 44.10025477409363,
        "label3": 21.050605922937393,
        "label4": 16.146432608366013,
        "label5": 5.808055400848389,
        "label6": 1.0931178694590926,
        "label7": 0.6182864308357239,
        "label8": 0.08357212936971337,
        "label9": 0.045942342694615945,
        "label10": 0.018380644178250805,
    },
    "image4_score": {
        "label1": 408.71337056159973,
        "label2": 405.5141806602478,
        "label3": 91.86860173940659,
        "label4": 60.49439683556557,
        "label5": 13.837344944477081,
        "label6": 12.541216798126698,
        "label7": 4.122596699744463,
        "label8": 1.6051745042204857,
        "label9": 1.283996389247477,
        "label10": 0.019233055354561657,
    },
    "image5_score": {
        "label1": 990.0784492492676,
        "label2": 6.525889039039612,
        "label3": 1.5492335660383105,
        "label4": 0.4318335559219122,
        "label5": 0.4146602295804769,
        "label6": 0.34706678707152605,
        "label7": 0.32294081756845117,
        "label8": 0.3209947026334703,
        "label9": 0.005778719696536427,
        "label10": 0.003032087761312141,
    },
    "image6_score": {
        "label1": 853.1079292297363,
        "label2": 132.32506811618805,
        "label3": 9.117254987359047,
        "label4": 3.825021907687187,
        "label5": 0.7840964826755226,
        "label6": 0.36340352380648255,
        "label7": 0.35306019708514214,
        "label8": 0.05083821451989934,
        "label9": 0.03679722431115806,
        "label10": 0.03644129174062982,
    },
    "image7_score": {
        "label1": 974.8539924621582,
        "label2": 9.792640805244446,
        "label3": 8.454030379652977,
        "label4": 5.3367638029158115,
        "label5": 0.9770042961463332,
        "label6": 0.30534123652614653,
        "label7": 0.2371355367358774,
        "label8": 0.01860782504081726,
        "label9": 0.014814315363764763,
        "label10": 0.009768878044269513,
    },
    "image8_score": {
        "label1": 456.27495646476746,
        "label2": 370.05284428596497,
        "label3": 165.1601493358612,
        "label4": 4.90617286413908,
        "label5": 2.5491807609796524,
        "label6": 0.44005943345837295,
        "label7": 0.23428822169080377,
        "label8": 0.23297496954910457,
        "label9": 0.14200246369000524,
        "label10": 0.007355796697083861,
    },
    "image9_score": {
        "label1": 469.33335065841675,
        "label2": 169.8976457118988,
        "label3": 156.39051795005798,
        "label4": 87.39528805017471,
        "label5": 86.95681393146515,
        "label6": 19.69745010137558,
        "label7": 9.570482186973095,
        "label8": 0.5246855434961617,
        "label9": 0.12243949458934367,
        "label10": 0.11132679355796427,
    },
    "image10_score": {
        "label1": 982.3288321495056,
        "label2": 12.261158786714077,
        "label3": 4.176617134362459,
        "label4": 0.4536626802291721,
        "label5": 0.3659015637822449,
        "label6": 0.25748414918780327,
        "label7": 0.12685767433140427,
        "label8": 0.027944057364948094,
        "label9": 0.0008138022167258896,
        "label10": 0.0006915046242284006,
    },
}
for key in data.keys():
    data[key] = {k: int(v) for k, v in data[key].items()}

# y_true = []
# y_pred = []
# for i in range(len(data)):
#     for j in range(len(data)):
#         count = int(data["image" + str(i + 1) + "_score"]["label" + str(j + 1)])
#         y_true += [i] * count
#         y_pred += [j] * count
# f1_scores = f1_score(y_true, y_pred, average=None)
# print(f1_scores)

f1_scores = []
for j in range(len(data)):
    p_jj = data["image" + str(j + 1) + "_score"]["label" + str(j + 1)]
    sum_i = sum(
        data["image" + str(i + 1) + "_score"]["label" + str(j + 1)]
        for i in range(len(data))
    )
    precision = p_jj / sum_i if sum_i != 0 else 0
    recall = p_jj
    if precision + recall != 0:
        f1_scores.append((2 * precision * recall) / (precision + recall))
    else:
        f1_scores.append(0)
print(f1_scores)
